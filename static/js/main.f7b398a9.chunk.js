(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],[,,,,,,,,,,,,,,,function(n,e,t){n.exports=t.p+"static/media/loupe.0c48e29d.svg"},function(n,e,t){n.exports=t.p+"static/media/sunny-light.090e58b6.svg"},function(n,e,t){n.exports=t.p+"static/media/winter.330e5376.svg"},function(n,e,t){n.exports=t.p+"static/media/humidity.a6765183.svg"},function(n,e,t){n.exports=t.p+"static/media/pressure.e61177a5.svg"},function(n,e,t){n.exports=t.p+"static/media/sky.d9b2d03d.png"},function(n,e,t){n.exports=t.p+"static/media/cloud-dark.a69e78d5.svg"},function(n,e,t){n.exports=t(32)},,,,,,,,,,function(n,e,t){"use strict";t.r(e);var r=t(1),a=t(0),c=t.n(a),i=t(10),o=t.n(i),u=t(3),s=t(4),l=t.n(s),f=t(6),p=function(){var n=Object(f.a)(l.a.mark((function n(e){var t,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e);case 2:return t=n.sent,n.next=5,t.json();case 5:if(r=n.sent,t.ok){n.next=8;break}throw new Error("Whoops, ".concat(r.message));case 8:return n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=Object(f.a)(l.a.mark((function n(e){var t;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p("".concat("https://api.openweathermap.org/data/2.5/weather?q=").concat(e).concat("&lang=ru&units=metric&appid=0f49363de5af37c512e1a84dd3bab4dd"));case 2:return t=n.sent,n.abrupt("return",g(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=Object(f.a)(l.a.mark((function n(e){var t;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p("".concat("https://autocomplete.travelpayouts.com/places2?term=").concat(e).concat("&locale=ru&types[]=city"));case 2:return t=n.sent,n.abrupt("return",b(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(n){return n.slice(0,5).map((function(n){return n.name}))},g=function(n){return{icon:n.weather[0].icon,description:n.weather[0].description,windSpeed:[+n.wind.speed.toFixed(1)],temperature:[Math.round(n.main.temp)],feelsLike:[Math.round(n.main.feels_like)],pressure:n.main.pressure,humidity:n.main.humidity,name:n.name}},h=t(11),v=t(2);function j(){var n=Object(r.a)(["\n  cursor: pointer;\n  font-family: Arial, sans-serif;\n  padding: 9px 0 12px 9px;\n  margin: 0;\n  background: ",";\n"]);return j=function(){return n},n}function w(){var n=Object(r.a)(["\n  position: absolute;\n  top: 34px;\n  width: -webkit-fill-available;\n  grid-column: 1/4;\n  background: #eceef2;\n  color: #9ba4b6;\n  font-weight: 400;\n  font-size: 16px;\n  opacity: 0;\n  animation: 0.5s "," 0.3s both;\n"]);return w=function(){return n},n}function O(){var n=Object(r.a)(["\n  to {\n    opacity: 1;\n  }\n"]);return O=function(){return n},n}var x=Object(v.c)(O()),y=v.b.div(w(),x),E=v.b.p(j(),(function(n){return n.active?"#cbd9f5":""})),k=function(n){var e=n.setCity,t=n.handleMouseOver,r=n.options,a=n.count,i=r.map((function(n,r){return c.a.createElement(E,{key:r,active:r===a,onMouseOver:function(){return t(r)},onClick:function(){return e(n)}},n)}));return c.a.createElement(y,null,i)},S=t(15),z=t.n(S);function M(){var n=Object(r.a)(["\n  height: 38px;\n  outline: none;\n  position: relative;\n  background: #eceef2;\n  border: none;\n  border-radius: 0 5px 5px 0;\n\n  &::after {\n    content: '';\n    display: inline-block;\n    position: absolute;\n    width: 36px;\n    height: 36px;\n    right: 0;\n    top: 0;\n    background: url(",") no-repeat center;\n    opacity: 0.5;\n    transition: opacity 0.1s ease-out;\n  }\n"]);return M=function(){return n},n}function C(){var n=Object(r.a)(["\n  height: 36px;\n  background: #eceef2;\n  border: none;\n  border-radius: 5px 0 0 5px;\n  font-weight: 400;\n  font-size: 16px;\n  color: #9ba4b6;\n  padding-left: 12px;\n  outline: none;\n\n  &::placeholder {\n    color: #9ba4b6;\n    font-weight: 400;\n    font-size: 16px;\n  }\n"]);return C=function(){return n},n}function I(){var n=Object(r.a)(["\n  display: grid;\n  position: relative;\n  grid-template-columns: 4fr 1fr;\n  grid-column: 1/4;\n  justify-self: center;\n  align-self: start;\n"]);return I=function(){return n},n}var D=v.b.form(I()),A=v.b.input(C()),F=v.b.button(M(),z.a),W=function(n){var e=n.wrapperSetIsSubmitting,t=n.isSubmitting,r=n.wrapperSetSearch,i=n.search,o=Object(a.useState)(!1),s=Object(u.a)(o,2),l=s[0],f=s[1],p=Object(a.useState)([""]),m=Object(u.a)(p,2),b=m[0],g=m[1],v=Object(a.useState)(-1),j=Object(u.a)(v,2),w=j[0],O=j[1],x=Object(a.useRef)(null);Object(a.useEffect)((function(){x.current.select(),f(!1)}),[t]);var y=Object(a.useRef)(Object(h.debounce)((function(n){if(0===n.trim().length)return f(!1),void O(-1);d(n).then((function(n){return g(n)})).catch((function(n){return console.log(n)})),f(!0)}),500)).current;return c.a.createElement(D,{onSubmit:function(n){n.preventDefault(),r(i.trim()),e(),O(-1)}},c.a.createElement(A,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",value:i,onChange:function(n){/^[a-zA-Z\u0430-\u044f\u0410-\u044f\u0451\u0401\s-]*$/.test(n.target.value)&&(y(n.target.value),r(n.target.value))},autoFocus:!0,ref:x,onKeyDown:function(n){l&&"ArrowDown"===n.key&&w<b.length-1&&(n.preventDefault(),O(++w),r(b[w])),l&&"ArrowUp"===n.key&&w>0&&(n.preventDefault(),O(--w),r(b[w]))}}),c.a.createElement(F,{type:"submit"}),l&&c.a.createElement(k,{setCity:function(n){e(),r(n)},handleMouseOver:function(n){O(n)},options:b,count:w}))},B=t(16),J=t.n(B);function R(){var n=Object(r.a)(["\n  grid-column: 2/3;\n  justify-self: center;\n  align-self: start;\n"]);return R=function(){return n},n}var $=v.b.div(R()),q=function(){return c.a.createElement($,null,c.a.createElement("img",{src:J.a,alt:"loading"}))};function K(){var n=Object(r.a)(["\n  grid-column: 2/3;\n  justify-self: center;\n  align-self: start;\n  text-align: center;\n  font-weight: 400;\n  font-size: 24px;\n  color: white;\n"]);return K=function(){return n},n}var L=v.b.p(K()),U=function(n){var e=n.errorMessage;return c.a.createElement(L,null,e)},Z=t(17),_=t.n(Z),G=t(18),H=t.n(G),N=t(19),P=t.n(N);function Q(){var n=Object(r.a)(["\n  grid-column: 2/3;\n  display: grid;\n  align-items: center;\n  grid-template-columns: 1fr 2fr;\n  border-bottom: 4px solid white;\n  img {\n    height: 50px;\n  }\n  p {\n    font-size: 25px;\n    color: white;\n  }\n"]);return Q=function(){return n},n}function T(){var n=Object(r.a)(["\n  font-size: 37px;\n"]);return T=function(){return n},n}function V(){var n=Object(r.a)(["\n  grid-column: 2/3;\n  justify-self: center;\n  text-align: center;\n  font-size: 25px;\n  margin: 0;\n  color: white;\n"]);return V=function(){return n},n}function X(){var n=Object(r.a)(["\n  grid-column: 2/3;\n  justify-self: center;\n  height: 100px;\n"]);return X=function(){return n},n}var Y=v.b.img(X()),nn=v.b.p(V()),en=Object(v.b)(nn)(T()),tn=v.b.div(Q()),rn=function(n){var e=n.infoCity,t=n.loading,r=n.error,a=n.errorMessage,i=!(t||r),o=t?c.a.createElement(q,null):null,u=r?c.a.createElement(U,{errorMessage:a}):null,s=i?c.a.createElement(an,{infoCity:e}):null;return c.a.createElement(c.a.Fragment,null,u,o,s)},an=function(n){var e=n.infoCity,t=e.icon,r=e.windSpeed,a=e.temperature,i=e.description,o=e.pressure,u=e.humidity;return Object.keys(e).length?c.a.createElement(c.a.Fragment,null,c.a.createElement(Y,{alt:"description",src:"http://openweathermap.org/img/wn/".concat(t,"@2x.png")}),c.a.createElement(nn,null,i),c.a.createElement(en,null," ",a," \xb0C"),c.a.createElement(tn,null,c.a.createElement("img",{alt:"pressure",src:P.a}),c.a.createElement("p",null,o," \u043c\u043c \u0440\u0442. \u0441\u0442.")),c.a.createElement(tn,null,c.a.createElement("img",{alt:"wind speed",src:_.a}),c.a.createElement("p",null,r," \u043c/\u0441")),c.a.createElement(tn,null,c.a.createElement("img",{alt:"humidity",src:H.a}),c.a.createElement("p",null,u," %"))):null},cn=t(20),on=t.n(cn),un=t(21),sn=t.n(un);function ln(){var n=Object(r.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 1em;\n  padding: 2em;\n  height: 578px;\n  width: 794px;\n  position: relative;\n  background: url(",") no-repeat;\n  background-size: cover;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: url(",") no-repeat;\n    background-size: cover;\n    filter: blur(8px);\n    z-index: -1;\n  }\n"]);return ln=function(){return n},n}var fn=v.b.main(ln(),(function(n){return n.beginin?sn.a:""}),on.a),pn=function(){var n=Object(a.useState)({}),e=Object(u.a)(n,2),t=e[0],r=e[1],i=Object(a.useState)(!1),o=Object(u.a)(i,2),s=o[0],l=o[1],f=Object(a.useState)(!1),p=Object(u.a)(f,2),d=p[0],b=p[1],g=Object(a.useState)(""),h=Object(u.a)(g,2),v=h[0],j=h[1],w=Object(a.useState)(!0),O=Object(u.a)(w,2),x=O[0],y=O[1],E=Object(a.useState)(!1),k=Object(u.a)(E,2),S=k[0],z=k[1],M=Object(a.useState)(localStorage.getItem("city")||""),C=Object(u.a)(M,2),I=C[0],D=C[1];Object(a.useEffect)((function(){var n=localStorage.getItem("city");n&&(y(!1),m(n).then((function(n){return F(n)})).catch((function(n){return A(n)})))}),[]),Object(a.useEffect)((function(){I&&(l(!0),localStorage.setItem("city",I),y(!1),m(I).then((function(n){return F(n)})).catch((function(n){return A(n)})))}),[S]);var A=function(n){j(n.message),b(!0),l(!1)},F=function(n){r(n),l(!1),b(!1)};return c.a.createElement(fn,{beginin:x},c.a.createElement(W,{wrapperSetIsSubmitting:function(){z(!S)},isSubmitting:S,search:I,wrapperSetSearch:function(n){D(n)}}),c.a.createElement(rn,{infoCity:t,loading:s,error:d,errorMessage:v}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function mn(){var n=Object(r.a)(["\n  body {\n    margin: 0;\n    padding: 0;\n    display: grid;\n    justify-content: center;\n  }\n"]);return mn=function(){return n},n}var dn=Object(v.a)(mn());o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(dn,null),c.a.createElement(pn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}],[[22,1,2]]]);
//# sourceMappingURL=main.f7b398a9.chunk.js.map